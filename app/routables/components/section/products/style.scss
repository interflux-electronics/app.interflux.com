section.products {
  .liner {
    @include widescreen {
      padding: px(6vw) 0;
    }
    @include desktop {
      padding: 6vw 0;
    }
    @include tablet {
      padding: 0 6vw; // TODO
    }
    @include mobile {
      padding: 0 5vw; // TODO
    }
  }
  .text {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    h2 {
      @include light-heading(0.9);
      strong {
        font-family: $regular;
        display: block;
      }
    }
    p {
      @include paragraph;
      margin: 1vw 0;
    }
    // .icon {
    //   display: flex;
    //   justify-content: center;
    // }
    // .icon + h3,
    // .icon-duo + h3 {
    //   @include widescreen {
    //     margin: px(3vw) 0;
    //   }
    //   @include desktop {
    //     margin: 3vw 0;
    //   }
    //   @include tablet {
    //     margin: 6.5vw 0 6vw;
    //   }
    //   @include mobile {
    //     margin: 8vw 0;
    //   }
    // }
  }
  .tiles {
    display: flex;
    flex-flow: wrap;
    justify-content: center;
    &.show-all {
      a.hidden {
        display: block;
      }
    }
    // to prevent 4 tiles wrapping an orphan (3 + 1), we limit the width so it becomes (2 + 2)
    &.four {
      .liner {
        max-width: 800px;
      }
    }

    a {
      position: relative;
      background: #eee;
      @include widescreen {
        width: px(28vw);
        height: px(28vw);
        margin: px(1vw);
        box-shadow: 0 px(0.2vw) px(0.1vw) rgba(black, 0.2);
      }
      @include desktop {
        width: 28vw;
        height: 28vw;
        margin: 1vw;
        box-shadow: 0 0.2vw 0.1vw rgba(black, 0.2);
      }
      @include tablet {
        width: 44vw;
        height: 44vw;
        margin: 2vw;
        box-shadow: 0 0.3vw 0.2vw rgba(black, 0.2);
      }
      @include mobile {
        width: 92vw;
        height: 92vw;
        margin: 0 4vw 4vw;
        box-shadow: 0 0.3vw 0.5vw rgba(black, 0.2);
      }
      &.featured {
        display: block;
      }
      &.hidden {
        display: none;
      }

      &:hover {
        picture {
          transform: scale(1.1);
        }
      }

      h2,
      h3,
      button {
        @include widescreen {
          box-shadow: 0 px(0.1vw) px(0.15vw) rgba(black, 0.2);
        }
        @include desktop {
          box-shadow: 0 0.1vw 0.15vw rgba(black, 0.2);
        }
        @include tablet {
          box-shadow: 0 0.1vw 0.2vw rgba(black, 0.2);
        }
        @include mobile {
          box-shadow: 0 0.2vw 0.3vw rgba(black, 0.2);
        }
      }
      h2 {
        font-family: $extrabold;
        line-height: 100%;
        position: absolute;
        z-index: 1;
        background: $blue-3;
        color: white;
        max-width: 84%;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        transition: left ease 200ms;
        @include widescreen {
          font-size: px(2.1vw);
          padding: px(0.6vw) px(1vw) px(0.45vw);
          top: px(1.2vw);
          left: px(-0.6vw);
          // left: px(1.2vw);
        }
        @include desktop {
          font-size: 2.1vw;
          padding: 0.6vw 1vw 0.45vw;
          top: 1.2vw;
          left: -0.6vw;
          // left: 1.2vw;
        }
        @include tablet {
          font-size: 3.3vw;
          padding: 0.9vw 1.8vw 0.8vw;
          top: 1.8vw;
          left: 1.8vw;
        }
        @include mobile {
          font-size: 6.8vw;
          padding: 2.3vw 3.2vw 1.5vw;
          top: 3.8vw;
          left: 3.8vw;
        }
      }
      h3 {
        font-family: $regular;
        line-height: 100%;
        position: absolute;
        z-index: 1;
        background: $blue-0;
        color: white;
        @include widescreen {
          font-size: px(1.4vw);
          padding: px(0.4vw) px(0.8vw) px(0.4vw);
          top: px(5vw);
          left: px(-0.6vw);
          // left: px(1.2vw);
        }
        @include desktop {
          font-size: 1.4vw;
          padding: 0.4vw 0.8vw 0.4vw;
          top: 5vw;
          left: -0.6vw;
          // left: px(-1.2vw);
        }
        @include tablet {
          font-size: 2.4vw;
          padding: 0.7vw 1.3vw 0.6vw;
          top: 7.6vw;
          left: 1.8vw;
        }
        @include mobile {
          font-size: 4.7vw;
          padding: 1.2vw 1.9vw 0.9vw;
          top: 16.2vw;
          left: 3.8vw;
        }
      }
      button {
        background: $orange-3;
        color: white;
        position: absolute;
        border: 0;
        outline: 0;
        line-height: 100%;
        display: flex;
        align-items: center;
        transition: right ease 200ms;
        @include widescreen {
          font-size: px(1.3vw);
          padding: px(0.3vw) px(0.6vw);
          right: px(1.2vw);
          bottom: px(1.2vw);
        }
        @include desktop {
          font-size: 1.3vw;
          padding: 0.3vw 0.6vw;
          right: 1.2vw;
          bottom: 1.2vw;
        }
        @include tablet {
          font-size: 2.2vw;
          padding: 0.5vw 0.8vw;
          right: 1.8vw;
          bottom: 1.8vw;
        }
        @include mobile {
          font-size: 4.5vw;
          padding: 1.2vw 1.9vw 0.9vw;
          right: 3.8vw;
          bottom: 3.8vw;
        }

        svg {
          height: 50%;
          width: auto;
          [fill] {
            fill: white;
          }
          @include widescreen {
            height: px(0.8vw);
            margin-left: px(0.5vw);
          }
          @include desktop {
            height: 0.8vw;
            margin-left: 0.5vw;
          }
          @include tablet {
            height: 1.2vw;
            margin-left: 0.8vw;
          }
          @include mobile {
            height: 2.8vw;
            margin-left: 1.5vw;
          }
        }

        i {
          @include widescreen {
            height: px(0.8vw);
            width: px(0.8vw);
            margin-left: px(0.3vw);
          }
          @include desktop {
            height: 0.8vw;
            width: 0.8vw;
            margin-left: 0.3vw;
          }
          @include tablet {
            height: 0.8vw; // TODO
            width: 0.8vw; // TODO
            margin-left: 0.3vw; // TODO
          }
          @include mobile {
            height: 0.8vw; // TODO
            width: 0.8vw; // TODO
            margin-left: 0.3vw; // TODO
          }
          svg [fill] {
            fill: white;
          }
        }
      }
      figure {
        width: 100%;
        height: 100%;
        picture {
          transition: transform ease 200ms;
        }
        figcaption {
          display: none;
        }
      }
    }
    .toggle {
      width: 100%;
      @include widescreen {
        margin-top: px(3vw);
      }
      @include desktop {
        margin-top: 3vw;
      }
      @include tablet {
        margin-top: 5vw;
      }
      @include mobile {
        margin-top: 4vw;
        padding: 0 10vw;
      }
      button {
        display: block;
        margin: 0 auto;
      }
    }
  }
}
